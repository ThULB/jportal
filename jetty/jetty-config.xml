<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "http://www.eclipse.org/jetty/configure.dtd">
<Configure id="JPortal" class="org.eclipse.jetty.server.Server">

  <Call name="addBean">
    <Arg>
      <New class="org.eclipse.jetty.security.HashLoginService">
        <Set name="name">Restricted</Set>
        <Set name="config">jetty-realm.properties</Set>
        <Call name="start" />
      </New>
    </Arg>
  </Call>

  <Set name="connectors">
    <Array type="org.eclipse.jetty.server.Connector">
      <Item>
        <New class="org.eclipse.jetty.server.ServerConnector">
          <Arg>
            <Ref refid="JPortal" />
          </Arg>
          <Set name="port">8291</Set>
        </New>
      </Item>
    </Array>
  </Set>

  <Call class="fsu.jportal.startup.WebappConf" name="instance">
    <Call id="solrHome" name="getSolrHome" />
  </Call>
  
  <New id="solr" class="org.eclipse.jetty.plus.jndi.EnvEntry">
    <Arg>/solr/home</Arg>
    <Arg>
      <Ref refid="solrHome"/>
    </Arg>
  </New>
</Configure>

