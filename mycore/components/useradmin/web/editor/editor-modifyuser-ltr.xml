<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE editor>

<editor id="modifyuser">

    <source uri="request:servlets/MCRUserEditorServlet?mode=retrieveuserxml&amp;uid={uid}" />
    <target type="servlet" name="MCRUserEditorServlet" method="post" format="xml" /> 
    <cancel url="{cancelUrl}" />
    
    <components root="modify-user-ltr" var="/mycoreuser">
        <include uri="webapp:editor/imports-common-user.xml" />
        <headline anchor="CENTER">
            <text i18n="component.useradmin.common.headMessage" />
        </headline>

        <panel id="modify-user-ltr" lines="off">
            <cell row="1" col="1" ref="VSpace5" anchor="EAST" />

            <!-- *** User account data *** -->
            <cell row="2" col="1" anchor="EAST">
                <text id="LAccount" i18n="component.useradmin.user.account.label" />
            </cell>
            <cell row="2" col="2" anchor="WEST" ref="TFzeile20" var="user/@ID" sortnr="1" />
 
            <!-- *** Password *** -->
            <cell row="3" col="1" anchor="EAST">
                <text id="LPassword" i18n="component.useradmin.user.password.label" />
            </cell>
            <cell row="3" col="2" anchor="WEST" var="user/user.password" sortnr="2">
                <password width="48" maxlength="128" />
            </cell>
            
            <!-- *** Description *** -->
            <cell row="4" col="1" anchor="EAST">
                <text id="LDescription" i18n="component.useradmin.user.description.label" />
            </cell>
            <cell row="4" col="2" anchor="WEST" ref="TFzeile48" var="user/user.description" sortnr="3"/>
            <cell row="4" col="3" anchor="EAST">
                <helpPopup id="HDescription" width="400px" height="200px" i18n="component.useradmin.user.description.help" />
            </cell>

            <!-- *** ID enabled? *** -->
            <cell row="5" col="1" anchor="EAST"></cell>
            <cell row="5" col="2" anchor="WEST" var="user/@id_enabled">
                <checkbox value="true" checked="true"> 
                    <label i18n="component.useradmin.user.enable.label" />
                </checkbox>
            </cell>

            <!-- *** Update allowed? *** -->
            <cell row="6" col="1" anchor="EAST"></cell>
            <cell row="6" col="2" anchor="WEST" var="user/@update_allowed">
                <checkbox value="true" checked="true"> 
                    <label i18n="component.useradmin.user.changeable.label" />
                </checkbox>
            </cell>

            <!-- *** Primary group *** -->
            <cell row="7" col="1" anchor="EAST">
                <text id="LPrimaryGroup" i18n="component.useradmin.user.primary.label" />
            </cell>
            <cell row="7" col="2" anchor="WEST" var="user/user.primary_group" sortnr="4">
                <list width="150" type="dropdown">
                    <item value="" i18n="component.useradmin.user.primary.select" />
                    <include uri="request:servlets/MCRUserEditorServlet?mode=getAssignableGroupsForUser"  cacheable="false" />
                </list>
            </cell>
            <cell row="7" col="3" anchor="EAST">
                <helpPopup id="HPrimaryGroup" width="400px" height="200px" i18n="component.useradmin.user.primary.help" />
            </cell>

            <!-- *** Additional groups *** -->
            <cell row="8" col="1" anchor="NORTHEAST">
                <text id="LAdditionalGroups" i18n="component.useradmin.user.additional.label" />
            </cell>
            <cell row="8" col="2" anchor="NORTHWEST" var="user/user.groups/groups.groupID" sortnr="20">
                <list width="150" type="multirow" multiple="true" rows="5">
                    <item value="" i18n="component.useradmin.user.additional.select" />
                    <include uri="request:servlets/MCRUserEditorServlet?mode=getAssignableGroupsForUser"  cacheable="false" />
                </list>
            </cell>
            <cell row="8" col="3" anchor="NORTHEAST">
                <helpPopup id="HAdditionalGroups" width="400px" height="200px">
                    <label i18n="component.useradmin.user.additional.help" />
                </helpPopup>
            </cell>

            <!-- *** Contact information *** -->
            <cell row="9" col="1" ref="VSpace50" anchor="EAST" />
            <cell row="9" col="2" anchor="WEST">
                <text style="font-weight:bold;" id="LContactInfo" i18n="component.useradmin.user.contact.label" />
            </cell>

            <!-- *** Salutation *** -->
            <cell row="10" col="1" anchor="EAST">
                <text id="LSalutation" i18n="component.useradmin.user.salutation.label" />
            </cell>
            <cell row="10" col="2" anchor="WEST" ref="TFzeile20" var="user/user.contact/contact.salutation" sortnr="5" />

            <!-- *** First name *** -->
            <cell row="11" col="1" anchor="EAST">
                <text id="LFirstName" i18n="component.useradmin.user.firstname.label" />
            </cell>
            <cell row="11" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.firstname" sortnr="6" />

            <!-- *** Last name *** -->
            <cell row="12" col="1" anchor="EAST">
                <text id="LLastName" i18n="component.useradmin.user.lastname.label" />
            </cell>
            <cell row="12" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.lastname" sortnr="7" />

            <!-- *** Street *** -->
            <cell row="13" col="1" anchor="EAST">
                <text id="LStreet" i18n="component.useradmin.user.street.label" />
            </cell>
            <cell row="13" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.street" sortnr="8" />

            <!-- *** City *** -->
            <cell row="14" col="1" anchor="EAST">
                <text id="LCity" i18n="component.useradmin.user.city.label" />
            </cell>
            <cell row="14" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.city" sortnr="9" />

            <!-- *** Postal code *** -->
            <cell row="15" col="1" anchor="EAST">
                <text id="LPostalCode" i18n="component.useradmin.user.postale.label" />
            </cell>
            <cell row="15" col="2" anchor="WEST" ref="TFzeile10" var="user/user.contact/contact.postalcode" sortnr="10" />

            <!-- *** Country *** -->
            <cell row="16" col="1" anchor="EAST">
                <text id="LCountry" i18n="component.useradmin.user.country.label" />
            </cell>
            <cell row="16" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.country" sortnr="11" />

            <!-- *** Institution *** -->
            <cell row="17" col="1" anchor="EAST">
                <text id="LInstitution" i18n="component.useradmin.user.institution.label" />
            </cell>
            <cell row="17" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.institution" sortnr="12" />

            <!-- *** Faculty *** -->
            <cell row="18" col="1" anchor="EAST">
                <text id="LFaculty" i18n="component.useradmin.user.faculty.label" />
            </cell>
            <cell row="18" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.faculty" sortnr="13" />

            <!-- *** Department *** -->
            <cell row="19" col="1" anchor="EAST">
                <text id="LDepartment" i18n="component.useradmin.user.department.label" />
            </cell>
            <cell row="19" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.department" sortnr="14" />

            <!-- *** Institute *** -->
            <cell row="20" col="1" anchor="EAST">
                <text id="LInstitute" i18n="component.useradmin.user.institute.label" />
            </cell>
            <cell row="20" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.institute" sortnr="15" />

            <!-- *** Email *** -->
            <cell row="21" col="1" anchor="EAST">
                <text id="LEmail" i18n="component.useradmin.user.email.label" />
            </cell>
            <cell row="21" col="2" anchor="WEST" ref="TFzeile48" var="user/user.contact/contact.email" sortnr="16" />

            <!-- *** Telephone *** -->
            <cell row="22" col="1" anchor="EAST">
                <text id="LTelephone" i18n="component.useradmin.user.phone.label" />
            </cell>
            <cell row="22" col="2" anchor="WEST" ref="TFzeile20" var="user/user.contact/contact.telephone" sortnr="17" />

            <!-- *** Fax *** -->
            <cell row="23" col="1" anchor="EAST">
                <text id="LFax" i18n="component.useradmin.user.fax.label" />
            </cell>
            <cell row="23" col="2" anchor="WEST" ref="TFzeile20" var="user/user.contact/contact.fax" sortnr="18" />

            <!-- *** Cellphone *** -->
            <cell row="24" col="1" anchor="EAST">
                <text id="LCellPhone" i18n="component.useradmin.user.mobile.label" />
            </cell>
            <cell row="24" col="2" anchor="WEST" ref="TFzeile20" var="user/user.contact/contact.cellphone" sortnr="19" />

            <!-- *** Buttons *** -->
            <cell row="99"  col="1" ref="VSpace25" anchor="WEST" />
            <cell row="100" col="1" ref="BSubmit"  anchor="EAST" />
            <cell row="100" col="2" ref="BCancel"  anchor="WEST" />
            <cell row="101" col="1" ref="VSpace5"  anchor="WEST" />
        </panel>
    </components>
</editor>