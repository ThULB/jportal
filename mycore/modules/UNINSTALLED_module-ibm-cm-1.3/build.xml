<?xml version="1.0" encoding="UTF-8"?>

<!-- =================================================================== -->
<!-- MyCoRe-SimpleWorkflow build file for use with ANT                   -->
<!-- $Revision: 1.1 $ $Date: 2006/09/08 10:21:01 $                      -->
<!-- =================================================================== -->

<project name="MyCoReModule - IBM CM" default="usage" basedir=".">

    <property name="build.sysclasspath" value="last" />

    <!-- =================================================================== -->
    <!-- The info target                                                     -->
    <!-- =================================================================== -->

    <target name="info">
        <echo>
           Ant version: ${ant.version}
      Java JDK version: ${java.version}
      Operating system: ${os.name}, version: ${os.version}, architecture: ${os.arch}
    </echo>
    </target>

    <!-- =================================================================== -->
    <!-- Help on usage                                                       -->
    <!-- =================================================================== -->

    <target name="usage">
        <echo>
      Usage:
        ant [target]

      Available targets are:
        info                 --> Shows Java/Ant/Operating System version
        clean                --> Removes all generated files, cleaning up
        compile              --> Compiles all sources under the sample directory
    </echo>
    </target>

    <!-- =================================================================== -->
    <!-- Initalization of directories and CLASSPATH, LIBPATH                 -->
    <!-- =================================================================== -->

    <target name="init">
        <mkdir dir="${basedir}/classes" />
    </target>

    <!-- =================================================================== -->
    <!-- Compiles all application classes                                    -->
    <!-- =================================================================== -->

    <target name="javac" depends="init">
        <echo>Compiling ${packages}</echo>
        <javac srcdir="${basedir}/modules/module-ibm-cm-1.3/sources"
               destdir="${basedir}/classes"
               includes="${packages}"
               classpathref="mycore.classpath"
               debug="${debug}"
               optimize="${optimize}"
               target="${javatarget}"
               source="${sourcerelease}"
               encoding="${sourceencoding}"
               deprecation="${deprecation}">
        </javac>
        <echo>---------------------------------------------------------</echo>
    </target>

    <target name="compile">
        <echo>Compiling the MyCoRe IBM CM backend</echo>
        <antcall target="javac">
            <param name="packages" value="org/mycore/backend/cm8/**" />
        </antcall>
    </target>
</project>

