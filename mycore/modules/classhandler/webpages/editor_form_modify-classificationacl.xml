<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MyCoReWebPage>

<!-- ============================================== -->
<!-- $Revision: 1.3 $ $Date: 2007-05-04 11:35:52 $ -->
<!-- ============================================== -->

<MyCoReWebPage>

<section title="Bearbeiten der Zugriffsrechte" xml:lang="de">
</section>

<section title="Edit the access rights" xml:lang="en">
</section>
	
<section xml:lang="all">
<editor id="modify-classification">

  <source uri="{sourceUri}" />
  <target type="servlet" name="MCRCheckClassACLServlet" method="post" format="xml" />
  <cancel url="{cancelUrl}" />

 <validationMessage i18n="editor.common.validationMessage" />

 <components root="editor-acls" var="/service">

  <include uri="webapp:editor/imports-common-classhandler.xml" />
	  
  <list id="ListPermission" width="160" type="dropdown">
    <item value="read"><label xml:lang="de">read</label></item>
    <item value="writedb"><label xml:lang="de">writedb</label></item>
    <item value="deletedb"><label xml:lang="de">deletedb</label></item>
  </list>

  <panel id="editor-acls">
   <hidden var="servdates" descendants="true"/>

   <hidden var="servflags" descendants="true"/>
	  
   <hidden var="servacls/@class" default="MCRMetaAccessRules"/>
   <hidden var="servacls/@notinherit" default="false"/>
   <hidden var="servacls/@heritable" default="true"/>
   <cell col="1" row="1" anchor="NORTHWEST" var="servacls/servacl">
    <repeater min="1" max="7" ref="OnePermission" pos="right"/>
   </cell>
	  
   <cell col="1" row="2" anchor="NORTHWEST">
    <space width="0px" height="20px"/>
   </cell>

   <cell col="1" row="3" anchor="WEST" ref="TwoButtons"/>

   <cell col="1" row="4" anchor="NORTHWEST">
    <space width="0px" height="20px"/>
   </cell>
  </panel>

  <panel id="OnePermission">
   <hidden var="@inherited" default="0"/>
   <hidden var="@lang" default="de"/>
   <cell col="1" row="1" anchor="NORTHWEST" >
    <text id="TPermission" i18n="editor.common.acl.access" />
   </cell>
   <cell col="2" row="1" anchor="NORTHWEST" ref="ListPermission" var="@permission" sortnr="1"/>
   <hidden var="condition/@format" default="xml"/>
   <hidden var="condition/boolean/@operator" default="and" />
	  
	  
   <cell col="1" row="2" anchor="NORTHWEST" >
    <text id="TUserGroup" i18n="editor.common.acl.uog" />
   </cell>
   <cell col="2" row="2" anchor="NORTHWEST" ref="AllUser" />
	  
   <cell col="1" row="3" anchor="NORTHWEST" >
    <text id="TUserGroup" i18n="editor.common.acl.date" />
   </cell>
   <cell col="2" row="3" anchor="NORTHWEST" ref="AllDate" />
	  
   <cell col="1" row="4" anchor="NORTHWEST" >
    <text id="TUserGroup" i18n="editor.common.acl.ip"/>
   </cell>
   <cell col="2" row="4" anchor="NORTHWEST" ref="AllIP" />
	  
   <cell col="1" row="5" anchor="NORTHWEST">
    <space width="0px" height="20px"/>
   </cell>
  </panel>
	
  <!-- *** Data for one permission *** -->
	
  <panel id="AllUser">
   <cell col="1" row="1" anchor="NORTHWEST" ref="ListAndOr" var="condition/boolean/boolean/@operator" default="or" sortnr="2"/>
   <cell col="2" row="1" anchor="NORTHWEST" var="condition/boolean/boolean/condition" >
    <repeater min="1" max="100" ref="OneUser" pos="right"/>
   </cell>
  </panel>
	
  <panel id="OneUser">
   <cell col="1" row="1" anchor="NORTHWEST" ref="ListUser" var="@field" sortnr="3"/>
   <cell col="2" row="1" anchor="NORTHWEST" ref="OperUser" var="@operator" sortnr="3"/>
   <cell col="3" row="1" anchor="NORTHWEST" ref="TFzeile128" var="@value" sortnr="3"/>
  </panel>
	
  <panel id="AllDate">
   <cell col="1" row="1" anchor="NORTHWEST" ref="ListAndOr" var="condition/boolean/boolean[2]/@operator" default="and" sortnr="4"/>
   <cell col="2" row="1" anchor="NORTHWEST" var="condition/boolean/boolean[2]/condition" >
    <repeater min="1" max="100" ref="OneDate" pos="right"/>
   </cell>
  </panel>
	
  <panel id="OneDate">
   <cell col="1" row="1" anchor="NORTHWEST" ref="ListDate" var="@field" sortnr="5"/>
   <cell col="2" row="1" anchor="NORTHWEST" ref="OperDate" var="@operator" sortnr="5"/>
   <cell col="3" row="1" anchor="NORTHWEST" ref="TFzeile128" var="@value" sortnr="5"/>
  </panel>
	
  <panel id="AllIP">
   <cell col="1" row="1" anchor="NORTHWEST" ref="ListAndOr" var="condition/boolean/boolean[3]/@operator" default="or" sortnr="6"/>
   <cell col="2" row="1" anchor="NORTHWEST" var="condition/boolean/boolean[3]/condition" >
    <repeater min="1" max="100" ref="OneIP" pos="right"/>
   </cell>
  </panel>
	
  <panel id="OneIP">
   <cell col="1" row="1" anchor="NORTHWEST" ref="ListIP" var="@field" sortnr="7"/>
   <cell col="2" row="1" anchor="NORTHWEST" ref="OperIP" var="@operator" sortnr="7"/>
   <cell col="3" row="1" anchor="NORTHWEST" ref="TFzeile128" var="@value" sortnr="7"/>
  </panel>
	
  <!-- *** Data for predefinitions *** -->
	
  <list id="ListAndOr" width="160" type="dropdown">
    <item value="and" i18n="editor.common.acl.and" />
    <item value="or" i18n="editor.common.acl.or" />
  </list>

  <list id="ListUser" width="160" type="dropdown">
    <item value="user" i18n="editor.common.acl.user" />
    <item value="group" i18n="editor.common.acl.group" />
  </list>

  <list id="OperUser" width="160" type="dropdown">
    <item value="="><label xml:lang="de">=</label><label xml:lang="en">=</label></item>
    <item value="!="><label xml:lang="de">!=</label><label xml:lang="en">!=</label></item>
  </list>

  <list id="ListDate" width="160" type="dropdown">
    <item value="date" i18n="editor.common.acl.date" />
  </list>

  <list id="OperDate" width="160" type="dropdown">
    <item value="!="><label xml:lang="de">&gt;</label><label xml:lang="en">&gt;</label></item>
    <item value="!="><label xml:lang="de">&lt;</label><label xml:lang="en">&lt;</label></item>
    <item value="!="><label xml:lang="de">&gt;=</label><label xml:lang="en">&gt;=</label></item>
    <item value="!="><label xml:lang="de">&lt;=</label><label xml:lang="en">&lt;=</label></item>
  </list>

  <list id="ListIP" width="160" type="dropdown">
    <item value="ip" i18n="editor.common.acl.ip" />
  </list>

  <list id="OperIP" width="160" type="dropdown">
    <item value="="><label xml:lang="de">=</label><label xml:lang="en">=</label></item>
    <item value="!="><label xml:lang="de">!=</label><label xml:lang="en">!=</label></item>
  </list>

 </components>
</editor>
</section>

</MyCoReWebPage>


