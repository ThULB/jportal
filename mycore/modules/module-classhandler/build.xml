<?xml version="1.0" encoding="UTF-8"?>

<!-- =================================================================== -->
<!-- MyCoRe-Classification handling build file for use with ANT          -->
<!-- $Revision: 1.1 $ $Date: 2006/09/18 11:02:18 $                      -->
<!-- =================================================================== -->

<project name="MyCoReModule - ClassHandler" default="usage" basedir=".">

	<property name="build.sysclasspath" value="last" />

	<!-- =================================================================== -->
	<!-- The info target                                                     -->
	<!-- =================================================================== -->

	<target name="info">
		<echo>
           Ant version: ${ant.version}
      Java JDK version: ${java.version}
      Operating system: ${os.name}, version: ${os.version}, architecture: ${os.arch}
    </echo>
	</target>

	<!-- =================================================================== -->
	<!-- Help on usage                                                       -->
	<!-- =================================================================== -->

	<target name="usage">
		<echo>
      Usage:
        ant [target]

      Available targets are:
        info                 --> Shows Java/Ant/Operating System version
        clean                --> Removes all generated files, cleaning up
        compile              --> Compiles all sources under the sample directory
    </echo>
	</target>

	<!-- =================================================================== -->
	<!-- Initalization of directories and CLASSPATH, LIBPATH                 -->
	<!-- =================================================================== -->

	<target name="init">
		<mkdir dir="${basedir}/classes" />
		<path id="mycore.classpath">
			<fileset dir="${basedir}/lib" includes="*.jar" />
		</path>
	</target>

	<!-- =================================================================== -->
	<!-- Compiles all application classes                                    -->
	<!-- =================================================================== -->

	<target name="javac" depends="init">
		<echo>Compiling ${packages}</echo>
		<javac srcdir="${basedir}/modules/module-classhandler/sources" destdir="${basedir}/classes" includes="${packages}" classpathref="mycore.classpath" debug="${debug}" optimize="${optimize}" target="${javatarget}" source="${sourcerelease}" encoding="${sourceencoding}" deprecation="${deprecation}">
		</javac>
		<echo>---------------------------------------------------------</echo>
	</target>

	<target name="compile" depends="compile_datamodel_class, compile_frontend_servlets" />

	<target name="compile_frontend_servlets">
		<echo>Compiling the MyCoRe ClassHandler frontent servlets</echo>
		<antcall target="javac">
			<param name="packages" value="org/mycore/frontend/servlets/**" />
		</antcall>
	</target>

	<target name="compile_datamodel_class">
		<echo>Compiling the MyCoRe ClassHandler datamodel classification</echo>
		<antcall target="javac">
			<param name="packages" value="org/mycore/datamodel/classification/**" />
		</antcall>
	</target>

	<!-- =================================================================== -->
	<!-- Remove the user created directories and files                       -->
	<!-- =================================================================== -->

	<target name="clean">
	</target>

	<!-- =================================================================== -->

</project>

<!-- =========================== End of file =========================== -->

