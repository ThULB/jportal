<?xml version="1.0" encoding="UTF-8"?>

<searchfields xmlns="http://www.mycore.org/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mycore.org/ searchfields.xsd">

  <!-- Search in MCRObject metadata -->
  <index id="metadata">

    <!-- Search in service/structural metadata -->  
    <field name="id"            type="identifier" source="objectMetadata" xpath="/mycoreobject" value="@ID" />
    <field name="objectType"    type="identifier" source="objectMetadata" xpath="/mycoreobject" value="substring-before(substring-after(@ID,'_'),'_')" />
    <field name="link"          type="identifier" source="objectMetadata" xpath="/mycoreobject/descendant::*[@xlink:href]" value="@xlink:href" />
    <field name="parent"        type="identifier" source="objectMetadata" xpath="/mycoreobject/structure/parents/parent" value="@xlink:href" />
    <field name="modified"      type="timestamp"  source="objectMetadata" xpath="/mycoreobject/service/servdates/servdate[@type='modifydate']" value="concat(substring(.,1,10),' ',substring(.,12,8))" i18n="editor.search.document.datemod" />
    <field name="created"       type="timestamp"  source="objectMetadata" xpath="/mycoreobject/service/servdates/servdate[@type='createdate']" value="concat(substring(.,1,10),' ',substring(.,12,8))" />

    <!-- Search in all metadata fields (that have an xml:lang attribute) -->
    <field name="allMeta"       type="text"       source="objectMetadata" xpath="/mycoreobject/metadata/*/*" value="text()" i18n="editor.search.metadata" />

	<!-- Search in journals metadata -->
    <field name="maintitles"     	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/maintitles/maintitle" value="text()" sortable="true" i18n="editor.search.document.maintitle" />
	<field name="subtitles"      	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/subtitles/subtitle" value="text()" i18n="editor.search.document.subtitle" />
	<field name="subtitles_type" 	type="identifier" source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/subtitles/subtitle" value="@type" />
	<field name="participants"   	type="identifier" source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/participants/participant" value="@xlink:href" />
	<field name="participants_type" type="identifier" source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/participants/participant" value="@xlink:title" />	  
	<field name="dates"          	type="date"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/dates/date" value="ext:normalizeDate(string(text()))" sortable="true" i18n="editor.search.document.date" />
	<field name="dates_type" 		type="identifier" source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/dates/date" value="@type" />	  
	<field name="classis"        	type="identifier" source="objectCategory" objects="jpjournal" xpath="/mycoreobject/metadata/classis/classi" value="@ID" i18n="editor.search.document.classi" />
	<field name="abstracts"      	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/abstracts/abstract" value="text()" i18n="editor.search.document.abstract" />
	<field name="identis"        	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/identis/identi" value="text()" i18n="editor.search.document.identi" />
	<field name="identis_type"   	type="identifier" source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/identis/identi" value="@type" />	  
	<field name="languages"      	type="identifier" source="objectCategory" objects="jpjournal" xpath="/mycoreobject/metadata/languages/language" value="@ID" i18n="editor.search.document.language" />
	<field name="rightsjournal"  	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/rights/right" value="text()" i18n="editor.search.document.right" />                
	<field name="notes"          	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/notes/note" value="text()" i18n="editor.search.document.note" />
	<field name="predeces"       	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/predeces/predece" value="text()" i18n="editor.search.document.predece" />
	<field name="successors"     	type="text"       source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/successors/successor" value="text()" i18n="editor.search.document.successor" />
	<field name="webcontext"   	    type="identifier" source="objectMetadata" objects="jpjournal" xpath="/mycoreobject/metadata/hidden_websitecontexts/hidden_websitecontext" value="text()" />
	<!-- Search in volumes metadata -->  
	<field name="maintitles_vol"     	type="text"       source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/maintitles/maintitle" value="text()" sortable="true" i18n="editor.search.document.maintitle" />
	<field name="subtitles_vol"      	type="text"       source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/subtitles/subtitle" value="text()" i18n="editor.search.document.subtitle" />
	<field name="subtitles__vol_type" 	type="identifier" source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/subtitles/subtitle" value="@type" />	  
	<field name="participants_vol"   	type="identifier" source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/participants/participant" value="@xlink:href" />
	<field name="participants_vol_type" type="identifier" source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/participants/participant" value="@xlink:title" />	  	  
	<field name="dates_vol"          	type="date"       source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/dates/date" value="ext:normalizeDate(string(text()))" sortable="true" i18n="editor.search.document.date" />
	<field name="notes_vol"          	type="text"       source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/notes/note" value="text()" i18n="editor.search.document.note" />
	<field name="journalID_vol"     	type="identifier" source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/hidden_jpjournalsID/hidden_jpjournalID" value="text()" />
	<field name="position_vol"     		type="identifier" source="objectMetadata" objects="jpvolume" xpath="/mycoreobject/metadata/hidden_positions/hidden_position" value="text()" />
	<!-- Search in article metadata -->
    <field name="maintitles_art"     	type="name"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/maintitles/maintitle" value="text()" sortable="true" i18n="editormask.labels.bibdescript" />
	<field name="subtitles_art"      	type="name"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/subtitles/subtitle" value="text()" i18n="editormask.labels.subtitle" />
    <field name="subtitles__art_type" 	type="identifier" source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/subtitles/subtitle" value="@type" />	 
	<field name="participants_art"   	type="identifier" source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/participants/participant" value="@xlink:href" />
	<field name="participants_art_type" type="identifier" source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/participants/participant" value="@xlink:title" />	  	  	  
	<field name="dates_art"          	type="date"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/dates/date" value="ext:normalizeDate(string(text()))" sortable="true" i18n="editormask.labels.date_label" />
	<field name="keywords_art"       	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/keywords/keyword" value="text()" i18n="editormask.labels.keyword" />
	<field name="abstracts_art"      	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/abstracts/abstract" value="text()" i18n="editormask.labels.abstract" />
	<field name="identis_art"        	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/identis/identi" value="text()" i18n="editormask.labels.identi" />
	<field name="notes_art"          	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/notes/note" value="text()" i18n="editormask.labels.note" />
	<field name="dates_art_type" 		type="identifier" source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/dates/date" value="@type" />
    <field name="notes_art"          	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/notes/note" value="text()" i18n="editor.search.document.note" />
    <field name="types_art"        	type="identifier" source="objectCategory" objects="jparticle" xpath="/mycoreobject/metadata/types/type" value="@ID" />
	<field name="rubrics_art"        	type="identifier" source="objectCategory" objects="jparticle" xpath="/mycoreobject/metadata/rubrics/rubric" value="@ID"/>
	<field name="classispub"         	type="identifier" source="objectCategory" objects="jparticle" xpath="/mycoreobject/metadata/classispub/classipub" value="@ID"/>
	<field name="classispub2"        	type="identifier" source="objectCategory" objects="jparticle" xpath="/mycoreobject/metadata/classispub2/classipub2" value="@ID" />
	<field name="classispub3"        	type="identifier" source="objectCategory" objects="jparticle" xpath="/mycoreobject/metadata/classispub3/classipub3" value="@ID" />
	<field name="sizes_art"          	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/sizes/size" sortable="true" value="text()" i18n="editormask.labels.size" />  	  
	<field name="refs_art"           	type="text"       source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/refs/ref" value="text()" i18n="editormask.labels.pub_reference" />
    <field name="journalID_art"    	type="identifier" source="objectMetadata" objects="jparticle" xpath="/mycoreobject/metadata/hidden_jpjournalsID/hidden_jpjournalID" value="text()" />
	  
	<!-- Search in institutions metadata -->
    <field name="instname"        type="name"       source="objectMetadata" objects="jpinst" xpath="/mycoreobject/metadata/names/name/fullname" value="text()" sortable="true" i18n="editor.search.jpinst.label" />
		  
    <!-- Search in person metadata -->
    <field name="headingFirstName"  type="name" source="objectMetadata" objects="person" xpath="/mycoreobject/metadata/def.heading/heading" value="firstName" sortable="true" i18n="editor.search.person.firstName" />
    <field name="headingLastName" 	type="name" source="objectMetadata" objects="person" xpath="/mycoreobject/metadata/def.heading/heading" value="lastName" sortable="true" i18n="editor.search.person.lastName" />
    <field name="lastname" 			type="name" source="objectMetadata" objects="person" xpath="/mycoreobject/metadata/def.heading/heading/lastName | /mycoreobject/metadata/def.alternative/alternative/lastName" value="text()" i18n="editor.search.person.lastName" />
    <field name="firstname" 		type="name" source="objectMetadata" objects="person" xpath="/mycoreobject/metadata/def.heading/heading/firstName | /mycoreobject/metadata/def.alternative/alternative/firstName" value="text()" i18n="editor.search.person.firstName" />
    <field name="anyname" 			type="name" source="objectMetadata" objects="person" xpath="/mycoreobject/metadata/def.heading/heading/* | /mycoreobject/metadata/def.alternative/alternative/*" value="text()" i18n="editor.search.person.anyName" />
    <field name="place" 			type="name" source="objectMetadata" objects="person corporation" xpath="/mycoreobject/metadata/*[contains(local-name(),'placeOf')]/* | /mycoreobject/metadata/def.location/location" value="text()" i18n="editor.search.person.place" />
 	<field name="personNote" 		type="text" source="objectMetadata" objects="person" xpath="/mycoreobject/metadata/def.note/note" value="text()"  />
	  
  </index>

  <!-- Search in MCRFile metadata and content -->  
  <index id="content">
  
    <!-- Search in fulltext of pdf and txt files -->
    <field name="content" type="text" source="fileTextContent" objects="http pdf ps txt xml msword95 msword97 msppt rtf otd sxw" i18n="editor.search.fulltext" />
	
    <!-- Search in technical metadata of files -->
    <field name="fileID"            type="identifier" source="fileMetadata" xpath="file/@id" value="." />
    <field name="DerivateID"        type="identifier" source="fileMetadata" xpath="file/@owner" value="." />
    <field name="fileName"          type="identifier" source="fileMetadata" xpath="file/@name" value="." />
    <field name="filePath"          type="identifier" source="fileMetadata" xpath="file/@path" value="." />
    <field name="fileSize"          type="integer"    source="fileMetadata" xpath="file/@size" value="." />
    <field name="fileExtension"     type="identifier" source="fileMetadata" xpath="file/@extension" value="." />
    <field name="fileContentTypeID" type="identifier" source="fileMetadata" xpath="file/contentTypeID" value="." />
    <field name="fileContentType"   type="text"       source="fileMetadata" xpath="file/@contentType" value="." />
    <field name="fileDateModified"  type="date"       source="fileMetadata" xpath="file/@modified" value="ext:normalizeDate(string(.))" />
    
    <!-- Search in technical metadata of audio/video files -->
    <field name="avBitRate"         type="integer"    source="fileMetadata" xpath="file/@bitRate" value="." />
    <field name="avFrameRate"       type="decimal"    source="fileMetadata" xpath="file/@frameRate" value="." />
    <field name="avDuration"        type="time"       source="fileMetadata" xpath="file/@duration" value="." />
    <field name="avMediaType"       type="identifier" source="fileMetadata" xpath="file/@mediaType" value="." />

  </index>

</searchfields>
