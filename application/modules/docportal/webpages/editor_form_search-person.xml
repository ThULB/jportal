<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MyCoReWebPage>

<MyCoReWebPage>

<section title="Suchmaske für Personen" xml:lang="de">
  <p>Hier können Sie nach Personen suchen.</p>
</section>

<section title="Search mask for person" xml:lang="en">
  <p>You can search for a person here.</p>
</section>

<section xml:lang="all">
  <editor id="searchmask">

  <source uri="request:servlets/MCRSearchServlet?mode=load&amp;id={id}" />
  <target type="servlet" name="MCRSearchServlet" method="post" format="xml" />

  <components root="root" var="/query">
	  
    <include uri="webapp:editor/imports-common.xml"/>
	  
    <headline anchor="LEFT">
      <text i18n="editor.search.author.label" />
    </headline>

    <panel id="root">
      <hidden var="@mask" default="editor_form_search-person.xml" />
      
      <hidden var="conditions/@format" default="xml" />
      <hidden var="conditions/boolean/@operator" default="and" />

      <!-- Search only for object type document -->
      <hidden var="conditions/boolean/condition1/@field"    default="objectType" />
      <hidden var="conditions/boolean/condition1/@operator" default="=" />
      <hidden var="conditions/boolean/condition1/@value"    default="author" />

      <!-- Search in field "callname" with operator "contains" -->
      <hidden var="conditions/boolean/condition2/@field" default="callname" />
      <hidden var="conditions/boolean/condition2/@operator" default="contains" />
      <cell row="1" col="1" anchor="EAST">
        <text i18n="editor.search.author.firstname" />
      </cell>
      <cell row="1" col="2" anchor="WEST" var="conditions/boolean/condition2/@value">
        <textfield width="40" />
      </cell>
      <cell row="1" col="3" anchor="WEST">
        <space width="20" height="0"/>
      </cell>
      <cell row="1" col="4" anchor="WEST" ref="SMPNameFirstName" />

      <!-- Search in field "surname" with operator "contains" -->
      <hidden var="conditions/boolean/condition3/@field" default="surname" />
      <hidden var="conditions/boolean/condition3/@operator" default="contains" />
      <cell row="2" col="1" anchor="EAST">
        <text i18n="editor.search.author.surname" />
      </cell>
      <cell row="2" col="2" anchor="WEST" var="conditions/boolean/condition3/@value">
        <textfield width="40" />
      </cell>
      <cell row="2" col="3" anchor="WEST">
        <space width="20" height="0"/>
      </cell>
      <cell row="2" col="4" anchor="WEST" ref="SMPNameSurname" />

      <!-- Search in field "institution" with operator "=" -->
      <hidden var="conditions/boolean/condition4/@field" default="institution" />
      <hidden var="conditions/boolean/condition4/@operator" default="=" />
      <cell row="3" col="1" anchor="EAST">
        <text i18n="editor.search.author.origin" />
      </cell>
      <cell row="3" col="2" anchor="WEST" var="conditions/boolean/condition4/@value">
        <list type="dropdown">
          <item value="" i18n="editor.search.choose" />
          <include uri="classification:editor[CountAuthor]:2:children:DocPortal_class_00000002" cacheable="false" />
        </list>
      </cell>
      <cell row="3" col="3" anchor="WEST">
        <space width="20" height="0"/>
      </cell>
      <cell row="3" col="4" anchor="WEST" ref="SMOrigin" />

      <cell row="19" col="1" colspan="2" anchor="SOUTHEAST" height="50px">
        <panel>
          <cell row="1" col="1" anchor="WEST">
            <text i18n="editor.search.max" />
          </cell>
          <cell row="1" col="2" anchor="WEST" var="@maxResults">
            <list type="dropdown" default="100">
              <item value="20"  label="20"  />
              <item value="100" label="100" />
              <item value="500" label="500" />            
              <item value="0"   i18n="editor.search.all" />
            </list>
          </cell>
          <cell row="1" col="3" anchor="WEST">
            <text i18n="editor.search.label" />
          </cell>
          <cell row="1" col="4" anchor="WEST" var="@numPerPage">
            <list type="dropdown" default="10">
              <item value="10" label="10" />
              <item value="20" label="20" />
              <item value="50" label="50" />
              <item value="0"  i18n="editor.search.all" />
            </list>
          </cell>
          <cell row="1" col="5" anchor="WEST">
            <text i18n="editor.search.perpage" />
          </cell>
        </panel>
      </cell>
      
      <cell row="20" col="1" colspan="2" anchor="EAST">
        <submitButton i18n="editor.search.search" width="150px" />
      </cell>
    </panel>
  </components>
 </editor>
</section>

</MyCoReWebPage>


