<?xml version="1.0" encoding="UTF-8"?>
<editor id="searchmask">
    <target format="xml" method="post" name="MCRSearchServlet" type="servlet" />
    <components var="/query" root="root">

        <panel lines="off" id="root">
            <hidden default="editor_form_search-jpjournal.xml" var="@mask" />
            <hidden default="xml" var="conditions/@format" />

            <!-- search in formal description -->
            <cell anchor="WEST" colspan="4" col="1" row="1">
                <text>
                    <label css-style="editorHeadlines" i18n="metaData.headlines.formaldiscr" />
                </text>
            </cell>

            <hidden var="conditions/boolean/@operator" default="and" />
            
            <!-- Search for fields of type bibdescript -->
            <cell var="conditions/boolean/boolean/condition1" col="1" row="2" colspan="2">
                <panel lines="off">
                    <cell width="230" anchor="EAST" col="1" row="1">
                        <text i18n="editormask.labels.bibdescript" />
                    </cell>
                    <hidden default="maintitles" var="@field" />
                    <cell anchor="WEST" col="2" row="1">
                        <panel lines="off">
                            <cell ref="operators.name" var="@operator" anchor="WEST" col="1" row="1" />
                            <cell ref="input.name" var="@value" anchor="WEST" col="2" row="1" />
                        </panel>
                    </cell>
                </panel>
            </cell>      
                  
            <!-- Search for fields of type subtitle -->
            <cell var="conditions/boolean/boolean/condition2" col="1" row="3" colspan="2">
                <repeater min="0" max="10">
                    <panel lines="off">
                        <cell width="230" anchor="EAST" col="1" row="1">
                            <text i18n="editormask.labels.subtitle" />
                        </cell>
                        <hidden default="subtitles" var="@field" />
                        <cell anchor="WEST" col="2" row="1">
                            <panel lines="off">
                                <cell ref="operators.name" var="@operator" anchor="WEST" col="1" row="1" />
                                <cell ref="input.name" var="@value" anchor="WEST" col="2" row="1" />
                            </panel>
                        </cell>
                    </panel>
                </repeater>
                <br />
            </cell>

            <!-- Search for fields of type contributor -->
            <cell var="conditions/boolean/boolean/condition3" col="1" row="4" colspan="2">

                <repeater min="0" max="6">
                    <panel lines="off">
                        <cell width="230" anchor="EAST" col="1" row="1">
                            <text i18n="editormask.labels.participants_label" />
                        </cell>
                        <cell col="2" row="1">
                            <panel>
                                <hidden var="@field" default="participants" />
                                <hidden var="@operator" default="=" />
                                <hidden var="@value" />
                                <hidden var="@label" />
                                <cell row="1" col="1">
                                    <output var="@label" />
                                </cell>
                                <cell row="2" col="1">
                                    <subselect id="sub.select_search1" type="webpage"
                                        href="indexpage?searchclass=jpperson_sub&amp;mode=prefix&amp;search=xxxxxxxxxxxxxxxxxxxxx"
                                        i18n="editormask.common.sub.select1" />
                                </cell>
                                <cell row="2" col="2">
                                    <subselect id="sub.select2" type="webpage"
                                        href="indexpage?searchclass=jpinst_sub&amp;mode=prefix&amp;search=xxxxxxxxxxxxxxxxxxxxx" sortnr="6"
                                        i18n="editormask.common.sub.select2" />
                                </cell>

                            </panel>
                        </cell>
                    </panel>
                </repeater>
            </cell>

            <cell col="1" row="6">
                <br />
            </cell>

            <!-- Search for fields of type date -->
            <cell var="conditions/boolean/boolean/condition4" col="1" row="7" colspan="2">
                <panel lines="off">
                    <cell anchor="EAST" width="230" col="1" row="1">
                        <text i18n="editormask.labels.date_label" />
                        <text i18n="editormask.labels.dateform" />
                    </cell>
                    <cell col="2" row="1">
                        <panel lines="off">
                            <hidden default="dates" var="@field" />
                            <cell anchor="WEST" col="1" row="1">
                                <panel lines="off">
                                    <cell ref="operators.date" var="@operator" anchor="WEST" col="1" row="1" />
                                    <cell ref="input.date" var="@value" anchor="WEST" col="2" row="1" />
                                </panel>
                            </cell>
                        </panel>
                    </cell>
                </panel>
            </cell>

            <!-- Search for fields of type ID -->
            <cell var="conditions/boolean/boolean/condition5" col="1" row="8" colspan="2">
                <repeater min="1" max="5">
                    <panel lines="off">
                        <cell width="230" anchor="EAST" col="1" row="1">
                            <text i18n="editormask.labels.identi" />
                        </cell>
                        <hidden default="identis" var="@field" />
                        <cell anchor="WEST" col="2" row="1">
                            <panel lines="off">
                                <cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1" />
                                <cell ref="input.text" var="@value" anchor="WEST" col="2" row="1" />
                            </panel>
                        </cell>
                    </panel>
                </repeater>
            </cell>

            <!-- Search for fields of type language -->
            <cell var="conditions/boolean/boolean/condition6" col="1" row="9" colspan="2">
                <repeater min="1" max="3">
                    <panel lines="off">
                        <cell width="230" anchor="EAST" col="1" row="1">
                            <text i18n="editor.search.document.language" />
                        </cell>
                        <hidden default="languages" var="@field" />
                        <hidden default="=" var="@operator" />
                        <cell var="@value" anchor="WEST" col="2" row="1">
                            <list default="" type="dropdown">
                                <item value="">
                                    <label xml:lang="de"></label>
                                </item>
                                <include uri="classification:editor:-1:children:jportal_class_00000004" />
                            </list>
                        </cell>
                    </panel>
                </repeater>
            </cell>

            <!-- Search for fields of type rights -->
            <cell var="conditions/boolean/boolean/condition7" col="1" row="10" colspan="2">
                <panel lines="off">
                    <cell width="230" anchor="EAST" col="1" row="1">
                        <text i18n="editor.search.document.right" />
                    </cell>
                    <hidden default="rightsjournal" var="@field" />
                    <cell anchor="WEST" col="2" row="1">
                        <panel lines="off">
                            <cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1" />
                            <cell ref="input.text" var="@value" anchor="WEST" col="2" row="1" />
                        </panel>
                    </cell>
                </panel>
            </cell>

            <!-- Search for fields of type predecessor -->
            <cell var="conditions/boolean/boolean/condition8" col="1" row="11" colspan="2">
                <repeater min="1" max="5">
                    <panel lines="off">
                        <cell width="230" anchor="EAST" col="1" row="1">
                            <text i18n="editor.search.document.predece" />
                        </cell>
                        <hidden default="predeces" var="@field" />
                        <cell anchor="WEST" col="2" row="1">
                            <panel lines="off">
                                <cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1" />
                                <cell ref="input.text" var="@value" anchor="WEST" col="2" row="1" />
                            </panel>
                        </cell>
                    </panel>
                </repeater>
            </cell>

            <!-- Search for fields of type successor -->
            <cell var="conditions/boolean/boolean/condition9" col="1" row="12" colspan="2">
                <repeater min="1" max="5">
                    <panel lines="off">
                        <cell width="230" anchor="EAST" col="1" row="1">
                            <text i18n="editor.search.document.successor" />
                        </cell>
                        <hidden default="successors" var="@field" />
                        <cell anchor="WEST" col="2" row="1">
                            <panel lines="off">
                                <cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1" />
                                <cell ref="input.text" var="@value" anchor="WEST" col="2" row="1" />
                            </panel>
                        </cell>
                    </panel>
                </repeater>
            </cell>
            <cell col="1" row="13">
                <br />
                <br />
            </cell>

            <!-- search in content descriptions-->
            <cell anchor="WEST" colspan="4" col="1" row="14">
                <text>
                    <label css-style="editorHeadlines" i18n="metaData.headlines.contantdiscr" />
                </text>
            </cell>
            <!-- Content classis -->
            <include cacheable="false"
                uri="jportal_includeEditorCode:jpjournal:editor/editor-dynamicInludes_journalClassis.xml:include_dynamicClassiForJournal_search" />
            
            <cell col="1" row="89">
                <br />
                <br />
            </cell>
            
            <cell anchor="WEST" colspan="3" col="1" row="90">
                <text>
                    <label css-style="editorHeadlines" i18n="metaData.headlines.specials" />
                </text>
            </cell>
            <cell anchor="EAST" col="1" row="92">
                <text i18n="editor.search.connect" />
            </cell>
            <cell var="conditions/boolean/boolean/@operator" anchor="WEST" col="2" row="92">
                <list default="and" type="dropdown">
                    <item i18n="editor.search.and" value="and" />
                    <item i18n="editor.search.or" value="or" />
                </list>
            </cell>
            <!-- Search only for objectType = jpjournal -->
            <hidden default="objectType" var="conditions/boolean/condition94/@field" />
            <hidden default="=" var="conditions/boolean/condition94/@operator" />
            <hidden default="jpjournal" var="conditions/boolean/condition94/@value" />
            <!-- Select hosts to query -->
            <hidden var="hosts/@target" default="local" />
            <!-- Select sort order of results -->
            <cell anchor="NORTHEAST" col="1" row="97">
                <text i18n="editor.search.sortby" />
            </cell>
            <cell var="sortBy/field" anchor="NORTHWEST" col="2" row="97">
                <repeater max="3" min="1">
                    <panel lines="off">
                        <cell var="@name" anchor="WEST" col="1" row="1">
                            <list type="dropdown">
                                <item i18n="editor.search.choose" value="" />
                                <item i18n="editor.search.document.maintitle" value="maintitles" />
                                <item i18n="editor.search.document.date" value="dates" />
                            </list>
                        </cell>
                        <cell var="@order" anchor="WEST" col="2" row="1">
                            <list default="ascending" type="dropdown">
                                <item i18n="editor.search.ascending" value="ascending" />
                                <item i18n="editor.search.descending" value="descending" />
                            </list>
                        </cell>
                    </panel>
                </repeater>
            </cell>
            <!-- Select maximum number of results and num per page -->
            <cell height="50px" anchor="SOUTHEAST" colspan="2" col="1" row="98">
                <panel lines="off">
                    <cell anchor="WEST" col="1" row="1">
                        <text i18n="editor.search.max" />
                    </cell>
                    <cell var="@maxResults" anchor="WEST" col="2" row="1">
                        <list default="100" type="dropdown">
                            <item label="20" value="20" />
                            <item label="100" value="100" />
                            <item label="500" value="500" />
                            <item i18n="editor.search.all" value="0" />
                        </list>
                    </cell>
                    <cell anchor="WEST" col="3" row="1">
                        <text i18n="editor.search.label" />
                    </cell>
                    <cell var="@numPerPage" anchor="WEST" col="4" row="1">
                        <list default="10" type="dropdown">
                            <item label="10" value="10" />
                            <item label="20" value="20" />
                            <item label="50" value="50" />
                            <item i18n="editor.search.all" value="0" />
                        </list>
                    </cell>
                    <cell anchor="WEST" col="5" row="1">
                        <text i18n="editor.search.perpage" />
                    </cell>
                </panel>
            </cell>
            <cell anchor="EAST" colspan="2" col="1" row="99">
                <submitButton width="150px" i18n="editor.search.search" />
            </cell>
        </panel>
        <!-- Input elements included depending on field type -->
        <textfield id="input.text" width="40" />
        <textfield id="input.name" width="40" />
        <textfield id="input.identifier" width="20" />
        <textfield id="input.date" width="10" />
        <textfield id="input.time" width="8" />
        <textfield id="input.timestamp" width="18" />
        <list id="input.boolean" default="" rows="1" type="checkbox">
            <item value="" i18n="editor.search.choose" />
            <item value="true" i18n="editor.search.true" />
            <item value="false" i18n="editor.search.false" />
        </list>
        <textfield id="input.decimal" width="10" />
        <textfield id="input.integer" width="10" />
        <list id="operators.identifier" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
            <item value="like" i18n="editor.search.like" />
        </list>
        <list id="operators.name" default="contains" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
            <item value="like" i18n="editor.search.like" />
            <item value="contains" i18n="editor.search.contains" />
        </list>
        <list id="operators.text" default="contains" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
            <item value="like" i18n="editor.search.like" />
            <item value="contains" i18n="editor.search.contains" />
            <item value="phrase" i18n="editor.search.phrase" />
        </list>
        <list id="operators.date" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
        </list>
        <list id="operators.time" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
        </list>
        <list id="operators.timestamp" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
        </list>
        <list id="operators.boolean" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
        </list>
        <list id="operators.decimal" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
        </list>
        <list id="operators.integer" default="=" rows="1" type="dropdown">
            <item value="=" label="=" />
            <item value="&gt;" label="&gt;" />
            <item value="&lt;" label="&lt;" />
            <item value="&gt;=" label="&gt;=" />
            <item value="&lt;=" label="&lt;=" />
        </list>
    </components>
</editor>