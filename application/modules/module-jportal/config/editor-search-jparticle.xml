<editor id="searchmask">
	
	<source token="[ID]" url="request:servlets/MCRSearchServlet?mode=load&amp;id=[ID]"/>
	<target format="xml" method="post" name="MCRSearchServlet" type="servlet"/>
	<components var="/query" root="root">
		
		<panel lines="off" id="root">
			<hidden default="editor_form_search-jparticle.xml" var="@mask"/>
			<hidden default="xml" var="conditions/@format"/>
			
			<!-- Only in one specified journal -->
			<hidden var="conditions/boolean/boolean/condition90/@field" default="journalID_art"/>
			<hidden var="conditions/boolean/boolean/condition90/@operator" default="="/>
			<include cacheable="false" uri="jportal_getJournalID:conditions/boolean/boolean/condition90/@value"/>
			
			<!-- search in formal description -->
			<cell anchor="WEST" colspan="4" col="1" row="1">
				<text>
					<label css-style="editorHeadlines" i18n="metaData.headlines.formaldiscr"/>
				</text>
			</cell>
			
			<hidden var="conditions/boolean/@operator" default="and"/>
			<!-- Search for fields of type name -->
			<cell var="conditions/boolean/boolean/condition1" col="1" row="2" colspan="2">
				<panel lines="off">
					<cell width="230" anchor="EAST" col="1" row="1">
						<text i18n="editormask.labels.bibdescript"/>
					</cell>
					<hidden default="maintitles_art" var="@field"/>
					<cell anchor="WEST" col="2" row="1">
						<panel lines="off">
							<cell ref="operators.name" var="@operator" anchor="WEST" col="1" row="1"/>
							<cell ref="input.name" var="@value" anchor="WEST" col="2" row="1"/>
						</panel>
					</cell>
				</panel>
			</cell>
			<cell var="conditions/boolean/boolean/condition2" col="1" row="3" colspan="2">
				<repeater min="0" max="10">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.subtitle"/>
						</cell>
						<hidden default="subtitles_art" var="@field"/>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.name" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.name" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
				<br/>
			</cell>
			
			<!-- Search for fields of type contributor -->
			<cell var="conditions/boolean/boolean/condition3" col="1" row="4" colspan="2">
				
				<repeater min="0" max="6">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.participants_label"/>
						</cell>
						<cell col="2" row="1">
							<panel>
								<hidden var="@field" default="participants_art"/>
								<hidden var="@operator" default="="/>
								<hidden var="@value"/>
								<hidden var="@label"/>								
								<cell row="1" col="1">
									<output var="@label"/>
								</cell>
								<cell row="2" col="1">
									<subselect id="sub.select_search1" type="webpage"
										href="indexpage?searchclass=jpperson_sub&amp;mode=prefix&amp;search=xxxxxxxxxxxxxxxxxxxxx"
										i18n="editormask.common.sub.select1"/>
								</cell>
								<cell row="2" col="2">
									<subselect id="sub.select2" type="webpage"
										href="indexpage?searchclass=jpinst_sub&amp;mode=prefix&amp;search=xxxxxxxxxxxxxxxxxxxxx"
										sortnr="6" i18n="editormask.common.sub.select2"/>
								</cell>
				
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			
			<cell col="1" row="6">
				<br/>
			</cell>
			
			<!-- Search for fields of type date -->
			<cell var="conditions/boolean/boolean/condition4" col="1" row="7" colspan="2">
				<panel lines="off">
					<cell anchor="EAST" width="230" col="1" row="1">
						<text i18n="editormask.labels.date_label"/>
						<text i18n="editormask.labels.dateform"/>
					</cell>
					<cell col="2" row="1">
						<panel lines="off">
							<hidden default="dates_art" var="@field"/>
							<cell anchor="WEST" col="1" row="1">
								<panel lines="off">
									<cell ref="operators.date" var="@operator" anchor="WEST" col="1" row="1"/>
									<cell ref="input.date" var="@value" anchor="WEST" col="2" row="1"/>
								</panel>
							</cell>
						</panel>
					</cell>
				</panel>
			</cell>
			
			<!-- Search for fields of type text -->
			<cell var="conditions/boolean/boolean/condition5" col="1" row="8" colspan="2">
				<panel lines="off">
					<cell width="230" anchor="EAST" col="1" row="1">
						<text i18n="editormask.labels.size"/>
					</cell>
					<hidden default="sizes_art" var="@field"/>
					<cell anchor="WEST" col="2" row="1">
						<panel lines="off">
							<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
							<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
						</panel>
					</cell>
				</panel>
			</cell>
			<cell var="conditions/boolean/boolean/condition6" col="1" row="9" colspan="2">
				<repeater min="1" max="5">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.identi"/>
						</cell>
						<hidden default="identis_art" var="@field"/>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell col="1" row="11">
				<br/>
				<br/>
			</cell>
			
			<!-- search in content descriptions-->
			<cell anchor="WEST" colspan="4" col="1" row="12">
				<text>
					<label css-style="editorHeadlines" i18n="metaData.headlines.contantdiscr"/>
				</text>
			</cell>
			<!-- Search for fields of type text -->
			<cell var="conditions/boolean/boolean/condition7" col="1" row="13" colspan="2">
				<repeater min="1" max="5">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.keyword"/>
						</cell>
						<hidden default="keywords_art" var="@field"/>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell var="conditions/boolean/boolean/condition8" col="1" row="14" colspan="2">
				<repeater min="1" max="5">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.abstract"/>
						</cell>
						<hidden default="abstracts_art" var="@field"/>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell var="conditions/boolean/boolean/condition9" col="1" row="15" colspan="2">
				<repeater min="1" max="5">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.note"/>
						</cell>
						<hidden default="notes_art" var="@field"/>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell var="conditions/boolean/boolean/condition10" col="1" row="16" colspan="2">
				<repeater min="1" max="5">
					<panel lines="off">
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.pub_reference"/>
						</cell>
						<hidden default="refs_art" var="@field"/>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell col="1" row="17">
				<br/>
				<br/>
			</cell>
			
			<cell anchor="WEST" colspan="4" col="1" row="18">
				<text>
					<label css-style="editorHeadlines" i18n="metaData.headlines.specials"/>
				</text>
			</cell>
			
			<!-- Operators -->
			<cell width="230" anchor="EAST" col="1" row="19">
				<text i18n="editor.search.connect"/>
			</cell>
			<cell var="conditions/boolean/boolean/@operator" anchor="WEST" col="2" row="19">
				<list default="and" type="dropdown">
					<item i18n="editor.search.and" value="and"/>
					<item i18n="editor.search.or" value="or"/>
				</list>
			</cell>
			
			<!-- Search only for objectType = jparticle -->
			<hidden default="objectType" var="conditions/boolean/condition94/@field"/>
			<hidden default="=" var="conditions/boolean/condition94/@operator"/>
			<hidden default="jparticle" var="conditions/boolean/condition94/@value"/>
			
			<!-- Select hosts to query -->
			<hidden var="hosts/@target" default="local"/>
			
			<!-- Select sort order of results -->
			<cell width="230" anchor="NORTHEAST" col="1" row="20">
				<text i18n="editor.search.sortby"/>
			</cell>
			<cell var="sortBy/field" anchor="NORTHWEST" col="2" row="20">
				<repeater max="3" min="1">
					<panel lines="off">
						<cell var="@name" anchor="WEST" col="1" row="1">
							<list type="dropdown">
								<item i18n="editor.search.choose" value=""/>
								<item i18n="editormask.labels.bibdescript" value="maintitles_art"/>
								<item i18n="editormask.labels.date_label" value="dates_art"/>
							</list>
						</cell>
						<cell var="@order" anchor="WEST" col="2" row="1">
							<list default="ascending" type="dropdown">
								<item i18n="editor.search.ascending" value="ascending"/>
								<item i18n="editor.search.descending" value="descending"/>
							</list>
						</cell>
					</panel>
				</repeater>
			</cell>
			
			<!-- Select maximum number of results and num per page -->
			<cell height="50px" anchor="SOUTHEAST" colspan="2" col="1" row="22">
				<panel lines="off">
					<hidden var="@maxResults" value="0"/>
					<cell var="@numPerPage" anchor="WEST" col="4" row="1">
						<list default="10" type="dropdown">
							<item label="10" value="10"/>
							<item label="20" value="20"/>
							<item label="50" value="50"/>
							<item label="100" value="100"/>
						</list>
					</cell>
					<cell anchor="WEST" col="5" row="1">
						<text i18n="editor.search.perpage"/>
					</cell>
				</panel>
			</cell>
			<cell anchor="EAST" colspan="2" col="1" row="23">
				<submitButton width="150px" i18n="editor.search.search"/>
			</cell>
		</panel>
		
		<!-- Input elements included depending on field type -->
		<textfield id="input.text" width="35"/>
		<textfield id="input.name" width="30"/>
		<textfield id="input.identifier" width="20"/>
		<textfield id="input.date" width="10"/>
		<textfield id="input.time" width="8"/>
		<textfield id="input.timestamp" width="18"/>
		<list id="input.boolean" default="" rows="1" type="checkbox">
			<item value="" i18n="editor.search.choose"/>
			<item value="true" i18n="editor.search.true"/>
			<item value="false" i18n="editor.search.false"/>
		</list>
		<textfield id="input.decimal" width="10"/>
		<textfield id="input.integer" width="10"/>
		<list id="operators.identifier" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
			<item value="like" i18n="editor.search.like"/>
		</list>
		<list id="operators.name" default="contains" rows="1" type="dropdown">
			<item value="=" label="="/>
			<!--<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>-->
			<item value="like" i18n="editor.search.like"/>
			<item value="contains" i18n="editor.search.contains"/>
		</list>
		<list id="operators.text" default="contains" rows="1" type="dropdown">
			<item value="=" label="="/>
			<!--<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>-->
			<item value="like" i18n="editor.search.like"/>
			<item value="contains" i18n="editor.search.contains"/>
			<item value="phrase" i18n="editor.search.phrase"/>
		</list>
		<list id="operators.date" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" i18n="editor.search.date.cond.newer"/>
			<item value="&lt;" i18n="editor.search.date.cond.older"/>
			<item value="&gt;=" i18n="editor.search.date.cond.newer_equal"/>
			<item value="&lt;=" i18n="editor.search.date.cond.older_equal"/>
		</list>
		<list id="operators.time" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
		<list id="operators.timestamp" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
		<list id="operators.boolean" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
		</list>
		<list id="operators.decimal" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
		<list id="operators.integer" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
	</components>
</editor>