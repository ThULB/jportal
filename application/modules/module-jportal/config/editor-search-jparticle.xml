<editor id="searchmask">
	
	<source token="[ID]" url="request:servlets/MCRSearchServlet?mode=load&amp;id=[ID]"/>
	<target format="xml" method="post" name="MCRSearchServlet" type="servlet"/>
	<components var="/query" root="root">
		
		<panel lines="off" id="root">
			<hidden default="editor_form_search-jparticle.xml" var="@mask"/>
			<hidden default="xml" var="conditions/@format"/>
			
			<!-- Only in one specified journal -->
			<hidden var="conditions/boolean/boolean/condition90/@field" default="journalID_art"/>			
			<hidden var="conditions/boolean/boolean/condition90/@operator" default="="/>			
			<include cacheable="false" uri="jportalURI:getJPJournalID:conditions/boolean/boolean/condition90/@value"/>		
						
			<hidden var="conditions/boolean/@operator" default="and"/>
			<!-- Search for fields of type name -->
			<cell var="conditions/boolean/boolean/condition1" col="1" row="1" colspan="2">
				<repeater min="1" max="2">
					<panel lines="off">
						<cell var="@field" width="230" anchor="EAST" col="1" row="1">
							<list type="dropdown">
								<item i18n="editormask.labels.bibdescript" value="maintitles_art"/>
								<item i18n="editormask.labels.subtitle" value="subtitles_art"/>
							</list>
						</cell>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.name" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.name" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell col="1" row="2">
				<br/>
			</cell>
			
			<!-- Search for fields of type contributor -->
			<hidden var="conditions/boolean/boolean/boolean/@operator" default="and"/>
			<cell var="conditions/boolean/boolean/boolean/boolean" col="1" row="3" colspan="2">
				
				<repeater min="1" max="10">
					<panel lines="off">
						<hidden var="@operator" default="and"/>
						<cell width="230" anchor="EAST" col="1" row="1">
							<text i18n="editormask.labels.participants_label"/>
						</cell>
						<cell var="condition2" col="2" row="1">
							<panel lines="off">
								<hidden var="@field" default="participants_art_type"/>
								<hidden var="@operator" default="="/>
								<cell var="@value" anchor="EAST" col="1" row="1">
									<list type="dropdown">
										<item i18n="editormask.labels.participantdummy" value=""/>
										<include uri="classification:editor:-1:children:jportal_class_00000007"/>
									</list>
								</cell>
							</panel>
						</cell>
						<cell var="condition2[2]" col="2" row="2">
							<panel>
								<hidden var="@field"/>
								<hidden var="@operator"/>
								<hidden var="@value"/>
								<cell row="1" col="1">
									<output var="@label"/>
								</cell>
								<cell row="2" col="1">
									<subselect id="sub.select_search1" type="webpage"
										href="indexpage?searchclass=jpperson_sub&amp;mode=prefix&amp;search=xxxxxxxxxxxxxxxxxxxxx"
										i18n="editormask.common.sub.select1"/>
								</cell>
								<cell row="2" col="2">
									<subselect id="sub.select2" type="webpage"
										href="indexpage?searchclass=jpinst_sub&amp;mode=prefix&amp;search=xxxxxxxxxxxxxxxxxxxxx"
										sortnr="6" i18n="editormask.common.sub.select2"/>
								</cell>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>

			<cell col="1" row="5">
				<br/>
			</cell>

			<!-- Search for fields of type date -->
			<hidden var="conditions/boolean/boolean/boolean[2]/@operator" default="and"/>
			<cell var="conditions/boolean/boolean/boolean[2]/boolean" col="1" row="6" colspan="2">
				
				<repeater min="1" max="4">
					<panel lines="off">
						<hidden var="@operator" default="and"/>
						<cell anchor="EAST" width="230" col="1" row="1">
							<text i18n="editormask.labels.date_label"/>
						</cell>
						<cell var="condition3" col="2" row="1">
							<panel lines="off">
								<hidden default="dates_art_type" var="@field"/>
								<hidden var="@operator" default="="/>
								<cell var="@value" anchor="EAST" col="1" row="1">
									<list type="dropdown">
										<item i18n="editormask.labels.datedummy" value=""/>
										<include uri="classification:editor:-1:children:jportal_class_00000008"/>
									</list>
								</cell>
							</panel>
						</cell>
						<cell anchor="EAST" width="230" col="1" row="2">
							<text i18n="editormask.labels.dateform"/>
						</cell>
						<cell var="condition3[2]" col="2" row="2">
							<panel lines="off">
								<hidden default="dates_art" var="@field"/>
								<cell anchor="WEST" col="1" row="1">
									<panel lines="off">
										<cell ref="operators.date" var="@operator" anchor="WEST" col="1" row="1"/>
										<cell ref="input.date" var="@value" anchor="WEST" col="2" row="1"/>
									</panel>
								</cell>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell col="1" row="8">
				<br/>
			</cell>
			
			<!-- Search for fields of type text -->
			<cell var="conditions/boolean/boolean/condition4" col="1" row="9" colspan="2">
				<repeater min="1" max="6">
					<panel lines="off">
						<cell var="@field" width="150" anchor="EAST" col="1" row="1">
							<list type="dropdown" default="sizes_art">
								<item i18n="editormask.labels.size" value="sizes_art"/>
								<item i18n="editormask.labels.identi" value="identis_art"/>
								<item i18n="editormask.labels.keyword" value="keywords_art"/>
								<item i18n="editormask.labels.abstract" value="abstracts_art"/>
								<item i18n="editormask.labels.note" value="notes_art"/>
								<item i18n="editormask.labels.pub_reference" value="refs_art"/>
							</list>
						</cell>
						<cell anchor="WEST" col="2" row="1">
							<panel lines="off">
								<cell ref="operators.text" var="@operator" anchor="WEST" col="1" row="1"/>
								<cell ref="input.text" var="@value" anchor="WEST" col="2" row="1"/>
							</panel>
						</cell>
					</panel>
				</repeater>
			</cell>
			<cell col="1" row="10">
				<br/>
				<br/>
			</cell>
			
			<!-- Operators -->
			<cell anchor="EAST" col="1" row="12">
				<text i18n="editor.search.connect"/>
			</cell>
			<cell var="conditions/boolean/boolean/@operator" anchor="WEST" col="2" row="12">
				<list default="and" type="dropdown">
					<item i18n="editor.search.and" value="and"/>
					<item i18n="editor.search.or" value="or"/>
				</list>
			</cell>
			
			<!-- Search only for objectType = jparticle -->
			<hidden default="objectType" var="conditions/boolean/condition94/@field"/>
			<hidden default="=" var="conditions/boolean/condition94/@operator"/>
			<hidden default="jparticle" var="conditions/boolean/condition94/@value"/>
			
			<!-- Select hosts to query -->
			<hidden var="hosts/@target" default="local"/>
			
			<!-- Select sort order of results -->
			<cell anchor="NORTHEAST" col="1" row="13">
				<text i18n="editor.search.sortby"/>
			</cell>
			<cell var="sortBy/field" anchor="NORTHWEST" col="2" row="13">
				<repeater max="3" min="1">
					<panel lines="off">
						<cell var="@name" anchor="WEST" col="1" row="1">
							<list type="dropdown">
								<item i18n="editor.search.choose" value=""/>
								<item i18n="editormask.labels.bibdescript" value="maintitles_art"/>
								<item i18n="editormask.labels.date_label" value="dates_art"/>
							</list>
						</cell>
						<cell var="@order" anchor="WEST" col="2" row="1">
							<list default="ascending" type="dropdown">
								<item i18n="editor.search.ascending" value="ascending"/>
								<item i18n="editor.search.descending" value="descending"/>
							</list>
						</cell>
					</panel>
				</repeater>
			</cell>
			
			<!-- Select maximum number of results and num per page -->
			<cell height="50px" anchor="SOUTHEAST" colspan="2" col="1" row="14">
				<panel lines="off">
					<hidden var="@maxResults" value="0"/>
					<cell var="@numPerPage" anchor="WEST" col="4" row="1">
						<list default="10" type="dropdown">
							<item label="10" value="10"/>
							<item label="20" value="20"/>
							<item label="50" value="50"/>
							<item label="100" value="100"/>
						</list>
					</cell>
					<cell anchor="WEST" col="5" row="1">
						<text i18n="editor.search.perpage"/>
					</cell>
				</panel>
			</cell>
			<cell anchor="EAST" colspan="2" col="1" row="16">
				<submitButton width="150px" i18n="editor.search.search"/>
			</cell>
		</panel>
		
		<!-- Input elements included depending on field type -->
		<textfield id="input.text" width="40"/>
		<textfield id="input.name" width="30"/>
		<textfield id="input.identifier" width="20"/>
		<textfield id="input.date" width="10"/>
		<textfield id="input.time" width="8"/>
		<textfield id="input.timestamp" width="18"/>
		<list id="input.boolean" default="" rows="1" type="checkbox">
			<item value="" i18n="editor.search.choose"/>
			<item value="true" i18n="editor.search.true"/>
			<item value="false" i18n="editor.search.false"/>
		</list>
		<textfield id="input.decimal" width="10"/>
		<textfield id="input.integer" width="10"/>
		<list id="operators.identifier" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
			<item value="like" i18n="editor.search.like"/>
		</list>
		<list id="operators.name" default="contains" rows="1" type="dropdown">
			<item value="=" label="="/>
			<!--<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>-->
			<item value="like" i18n="editor.search.like"/>
			<item value="contains" i18n="editor.search.contains"/>
		</list>
		<list id="operators.text" default="contains" rows="1" type="dropdown">
			<item value="=" label="="/>
			<!--<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>-->
			<item value="like" i18n="editor.search.like"/>
			<item value="contains" i18n="editor.search.contains"/>
			<item value="phrase" i18n="editor.search.phrase"/>
		</list>
		<list id="operators.date" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="neuer als"/>
			<item value="&lt;" label="älter als"/>
			<item value="&gt;=" label="neuer gleich"/>
			<item value="&lt;=" label="älter gleich"/>
		</list>
		<list id="operators.time" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
		<list id="operators.timestamp" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
		<list id="operators.boolean" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
		</list>
		<list id="operators.decimal" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
		<list id="operators.integer" default="=" rows="1" type="dropdown">
			<item value="=" label="="/>
			<item value="&gt;" label="&gt;"/>
			<item value="&lt;" label="&lt;"/>
			<item value="&gt;=" label="&gt;="/>
			<item value="&lt;=" label="&lt;="/>
		</list>
	</components>
</editor>