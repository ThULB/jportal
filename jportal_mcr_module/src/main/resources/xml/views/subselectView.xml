<?xml version="1.0" encoding="UTF-8"?>
<view name="subselect">
  <component name="subelectFormInput">
    <div id="searchBar">
      <form id="searchForm" action="/servlets/solr/subselect">
        <div class="row">
          <div class="col-lg-8 input-group">
            <input class="form-control" id="inputField" name="qry" getData="subselect.search.form.qry" />
            <span class="input-group-btn">
              <button class="btn btn-default" id="submitButton" type="submit">Suche</button>
            </span>
          </div>
          <div class="col-lg-4">
            <select class="form-control" name="sort">
              <option value="score desc" getData="subselect.search.form.sort">Relevanz</option>
              <option value="heading_lowercase asc" getData="subselect.search.form.sort">Alphabetisch</option>
            </select>
          </div>
        </div>
        <input type="hidden" name="XSL.subselect.type" value="{subselect.type}" />
        <input type="hidden" name="XSL.subselect.session.SESSION" value="{subselect.session}" />
        <input type="hidden" name="XSL.subselect.varpath.SESSION" value="{subselect.varpath}" />
        <input type="hidden" name="XSL.subselect.webpage.SESSION" value="{subselect.webpage}" />
      </form>
    </div>
  </component>
  <component name="resultList">
    <div id="searchResults">
      <div class="jp-layout-bottomline jp-layout-border-light" id="resultListHeader">
        <h2>{subselect.type.label}</h2>
        <div>
          <span>
            <getData id="search.numFound" />
            <getData id="subselect.type.label" />
            gefunden.
          </span>
          <ul class="navigation">
            <li>
              <a href="{subselect.cancel.link}">Auswahl abbrechen</a>
            </li>
          </ul>
        </div>
      </div>
      <div id="resultList">
        <ul class="jp-layout-list-nodecoration">
          <component id="resultListEntry">
            <li class="resultListEntry jp-layout-topline jp-layout-border-light">
              <h3 class="jp-layout-clickLabel">
                <a href="/receive/{result.hit.id}" data-jp-mcrid="{result.hit.id}">
                  <getData id="result.hit.heading" />
                </a>
              </h3>
              <ul class="jp-layout-metadaInSearchResults">
                <li>
                  <getData id="result.hit.dateOfBirth" />
                </li>
                <li>
                  <getData id="result.hit.dateOfDeath" />
                </li>
              </ul>
            </li>
          </component>
        </ul>
        <div class="jp-layout-topline jp-layout-border-light" id="resultPaginator">
          <menu class="jp-layout-paginator jp-layout-horiz-menu jp-layout-inline">
            <component id="resultPaginator">
              <li class="{resultpage} jp-layout-selected-underline">
                <a href="{link.to.resultpage}">
                  <getData id="resultpage.label" />
                </a>
              </li>
            </component>
          </menu>
        </div>
      </div>
    </div>
  </component>
  <component name="objectPreview">
    <div id="objectPreviewContainer">
      <script type="text/javascript" src="/js/jp-subselect.js" />
      <script type="text/javascript">
        $(document).ready(function() {
          jp.subselect.init(".jp-layout-clickLabel a", "#objectPreview");
        });
      </script>
      <div class="objectPreview hidden" id="objectPreview">
        <div class="loading" />
      </div>
    </div>
  </component>
</view>